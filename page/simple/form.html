<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<link rel="stylesheet"
	href="../../public/bower_components/bootstrap/dist/css/bootstrap.css" />
<script src="http://apps.bdimg.com/libs/angular.js/1.3.9/angular.min.js"></script>
<script src="./csl-data.js"></script>

<style type="text/css">
table {
	width: 100%;
	border: 1px solid silver;
	border-collapse: collapse;
}

table th, td {
	border: 1px solid silver;
	border-collapse: collapse;
	padding: 3px;
}
</style>

</head>
<body>
	<h3>
		<a href="http://www.runoob.com/angularjs/angularjs-reference.html"
			target="_blank">AngularJS 参考手册</a>
	</h3>
	<a href="http://www.runoob.com/angularjs/angularjs-bootstrap.html"
		target="_blank">AngularJS教程</a>
	<br>
	<br>
	<br>

	<div ng-app="myApp" ng-controller="formCtrl">
		<fieldset>
			<legend>表单字段</legend>

			<form novalidate>
				First Name:<br> <input type="text" ng-model="user.firstName"><br>
				Last Name:<br> <input type="text" ng-model="user.lastName">
				<br>
				<br> form = {{user }}<br> master = {{master}}<br> <br>
				<button ng-click="reset()">RESET</button>
			</form>
			<br>
			<br> 姓名：<input type="text" ng-model="name"> <br>
			性别：<input type="radio" name="sex" value="男" ng-model="sex">男
			<input type="radio" name="sex" value="女" ng-model="sex">女 <br>
			兴趣： <input type="checkbox" name="interest" ng-model="interest1">游泳
			<input type="checkbox" name="interest" ng-model="interest2">旅游
			<input type="checkbox" name="interest" ng-model="interest3">打篮球
			<br> 兴趣：(使用循环) <input type="text" ng-model="nameText"
				placeholder="输入过滤信息..." />
			<ul
				ng-init="nameList=[
							{name: '游泳', no:'25'},
							{name: '旅游', no:'40'},
							{name: '打篮球', no:'25'},
							{name: '买衣服', no:'98'}
							]">


				<li ng-repeat="info in nameList | filter:nameText">{{$index+1}}、<input
					type="checkbox" name="interest">{{info.name}} -
					{{info.no}}
				</li>
			</ul>

			姓名：{{name}}<br> 性别：{{sex}}<br> 兴趣爱好：{{interest1}}
			{{interest2}} {{interest3}}
		</fieldset>

		<br>

		<table class="table table-bordered">
			<tr class="head-title">
				<th class="col-xs-3"></th>
				<th class="col-xs-3 text-center">P2P</th>
				<th class="col-xs-3 text-center">余额宝</th>
				<th class="col-xs-3 text-center">银行理财产品</th>
			</tr>
			<tr ng-repeat="info in infoList" ng-cloak>
				<td class="text-right title-desc" ng-bind="info.title"></td>
				<td class="text-center" ng-repeat="key in ['p2p', 'yeb', 'bank']">
					<span ng-if="info[key]"> <span ng-if="info[key].length"
						ng-bind="info[key]"
						ng-class="{true: 'year-interest', false: 'etc-text'}[$parent.$parent.$parent.$first]"></span>
						<span ng-if="!info[key].length"
						class="glyphicon glyphicon-ok is-support"></span>
				</span> <span ng-if="!info[key]"
					class="glyphicon glyphicon-remove is-support"></span>
				</td>
			</tr>
		</table>

		<br>

		<div>
			全局搜素：<input type="text" ng-model="teamInfo.$" /> 比赛轮次： <select
				ng-model="teamInfo.Round" ng-options="v for v in uniqueRound"
				ng-change="resetFilter(teamInfo.Round)">
				<option value="">请选择比赛轮次</option>
			</select> 比赛球场： <input type="text" ng-model="teamInfo.Situation" /> 比赛日期： <select
				ng-model="teamInfo.date" ng-options="v for v in uniqueDate"
				ng-change="resetFilter(teamInfo.date)">
				<option value="">请选择比赛日期</option>
			</select>
		</div>
		<br />
		<div>
			<table>
				<tr>
					<th>场次</th>
					<th>轮次</th>
					<th>主场</th>
					<th>客场</th>
					<th>城市</th>
					<th>球场</th>
					<th>日期</th>
				</tr>
				<tr ng-repeat="v in match2015Data | filter: teamInfo" align="center">
					<td ng-bind="$index + 1"></td>
					<td ng-bind="v.Round"></td>
					<td ng-bind="v.Team1"></td>
					<td ng-bind="v.Team2"></td>
					<td ng-bind="v.MatchCity"></td>
					<td ng-bind="v.Situation"></td>
					<td ng-bind="v.date"></td>
				</tr>
			</table>
		</div>




		<h3>页面ng-init、ng-bind</h3>
		<div ng-init="points=[1,15,19,2,40]">
			[1,15,19,2,40]
			<p>
				第三个值为 <span ng-bind="points[2]"></span>
			</p>
			<p>第四个值为 {{points[3]}}</p>

		</div>

	</div>



	<script>
		var app = angular.module('myApp', []);
		app.controller('formCtrl', function($scope) {
			$scope.master = {
				firstName : "John",
				lastName : "Doe"
			};
			$scope.reset = function() {
				$scope.user = angular.copy($scope.master);
			};
			$scope.reset();

			$scope.infoList = [ {
				title : '预期年化收益率',
				p2p : '7% - 14%',
				bank : '约 4% - 5.5%',
				yeb : '约 3% - 4%'
			}, {
				title : '买入当天生息',
				p2p : true,
				bank : false,
				yeb : false
			}, {
				title : '买入次日开始付息',
				p2p : true,
				bank : false,
				yeb : false
			}, {
				title : '每日付息',
				p2p : true,
				bank : false,
				yeb : true
			}, {
				title : '每日利息自动复投',
				p2p : true,
				bank : false,
				yeb : '同货币基金'
			}, {
				title : '期限灵活，随时可取',
				p2p : true,
				bank : false,
				yeb : true
			}, {
				title : '可以零钱增投',
				p2p : true,
				bank : false,
				yeb : true
			} ];

			$scope.match2015Data = match2015Data;
			$scope.teamInfo = {};

			$scope.resetFilter = function(v) {
				if (!v)
					$scope.teamInfo = {};
			};

			var uniqueValueInArray = function(arr, obj) {
				var n = {}, r = [];
				for (var i = 0; i < arr.length; i++) {
					var val = obj ? arr[i][obj] : arr[i];
					if (!n[val]) {
						n[val] = true;
						r.push(val);
					}
				}
				return r;
			};

			$scope.uniqueRound = uniqueValueInArray(match2015Data, 'Round');
			$scope.uniqueDate = uniqueValueInArray(match2015Data, 'date');

		});
	</script>

</body>
</html>